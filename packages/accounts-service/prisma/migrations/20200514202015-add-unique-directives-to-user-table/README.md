# Migration `20200514202015-add-unique-directives-to-user-table`

This migration has been generated by Gabriel Mendez at 5/14/2020, 8:20:15 PM.
You can check out the [state of the schema](./schema.prisma) after the migration.

## Database Steps

```sql
CREATE TABLE "accounts"."User" (
"email" text  NOT NULL ,"id" SERIAL,"lastPasswordChange" text  NOT NULL ,"name" text  NOT NULL ,"password" text  NOT NULL ,"picture" text  NOT NULL ,"provider" text  NOT NULL ,"role" text  NOT NULL ,"username" text  NOT NULL ,
    PRIMARY KEY ("id"))

CREATE UNIQUE INDEX "User.username" ON "accounts"."User"("username")

CREATE UNIQUE INDEX "User.email" ON "accounts"."User"("email")
```

## Changes

```diff
diff --git schema.prisma schema.prisma
migration 20200514201440-init..20200514202015-add-unique-directives-to-user-table
--- datamodel.dml
+++ datamodel.dml
@@ -1,7 +1,7 @@
 datasource db {
   provider = "postgresql"
-  url = "***"
+  url      = env("DATABASE_URL")
 }
 generator client {
   provider = "prisma-client-js"
@@ -10,10 +10,10 @@
 model User {
   id                 Int    @default(autoincrement()) @id
   picture            String
   provider           String
-  username           String
-  email              String
+  username           String @unique
+  email              String @unique
   name               String
   password           String
   role               String
   lastPasswordChange String
```
